function scrollFunction(e) {
  840 > $(window).width() && (document.getElementById("pivot").checked = !1);
  let a = -$("nav").height() + 1,
    o = document.getElementById(e),
    t = o.getBoundingClientRect().top + window.pageYOffset + a;
  window.scrollTo({ top: t, behavior: "smooth" });
}
function scrollToTop() {
  window.scrollTo({ top: 0, behavior: "smooth" });
}
const navScroll = document.querySelector("#nav");
window.addEventListener("scroll", () => {
  window.scrollY > 200
    ? navScroll.classList.add("nav-scrolled")
    : window.scrollY <= 200 && navScroll.classList.remove("nav-scrolled");
});
const navScroll2 = document.querySelector("#nav-ul");
function IsFormValid() {
  let e = document.getElementById("input-submit");
  var a = InputNotEmpty(document.getElementById("input-name")),
    o = ValidateEmail(document.getElementById("input-email")),
    t = InputNotEmpty(document.getElementById("input-message"));
  o && a && t
    ? ((e.disabled = !1),
      e.style.removeProperty("disabled"),
      (e.style.cursor = "pointer"),
      (e.style.opacity = 1))
    : ((e.disabled = !0),
      (e.style.cursor = "not-allowed"),
      (e.style.opacity = 0.65));
}
function InputNotEmpty(e) {
  return 0 != e.value.length;
}
function ValidateEmail(e) {
  return !!e.value.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/);
}
window.addEventListener("scroll", () => {
  window.scrollY > 200
    ? navScroll2.classList.add("nav-scrolled")
    : window.scrollY <= 200 && navScroll2.classList.remove("nav-scrolled");
}),
  $("#form").submit(function (e) {
    e.preventDefault(),
      $.ajax({
        type: "POST",
        url: "send-email.php",
        data: $(this).serialize(),
        success: function (e) {
          $("#result").html(e);
        },
      });
  });
const form = document.getElementById("form");

function ChangeLanguage() {
  let e = document.getElementById("change-lang-flag"),
    a = document.getElementById("change-lang-flag2");

  e.src.includes("ES")
    ? ((e.src = "https://flagsapi.com/GB/flat/32.png"),
      (a.src = "https://flagsapi.com/GB/flat/32.png"))
    : ((e.src = "https://flagsapi.com/ES/flat/32.png"),
      (a.src = "https://flagsapi.com/ES/flat/32.png"));
}

function ChangeLanguage2() {
  let e = document.getElementById("change-lang-flag"),
    a = document.getElementById("change-lang-flag2");
  e.src.includes("ES")
    ? ((e.src = "https://flagsapi.com/GB/flat/32.png"),
      (a.src = "https://flagsapi.com/GB/flat/32.png"),
      $(".nav-about-me a").text("About me"),
      $(".nav-works a").text("Works"),
      $(".nav-contact a").text("Contact"),
      $("#job").text("Back-End Developer"),
      $(".about-me-title").text("About me"),
      $("#p1").html(
        "Hi! My name is Christian Franco, I'm 22 years old and I'm a <span>back-end developer</span>."
      ),
      $("#p2").html(
        "My skills include handling programming languages such as <span>C#</span> and <span>Java</span>, as well as <span>database skills</span> and knowledge in web development. I currently have more than <span>a year of experience</span> in .NET software development."
      ),
      $("#p3").html(
        "Outside of work, I like to automate tasks through programming, develop my own mobile apps and even video games. Right now I am <span>looking for new projects</span>."
      ),
      $("#works h1").text("Personal projects"),
      $("#contact h1").text("Contact"),
      $(".contact-message").text(
        "If you have any questions or comments, don't hesitate to contact me!"
      ),
      $(".form-name-label").text("Name"),
      $(".form-message-label").text("Message"),
      $(".form-email-label").text("Mail"),
      $("#input-submit").prop("value", "Send"),
      $(".mail-logo").text("Mail"))
    : ((e.src = "https://flagsapi.com/ES/flat/32.png"),
      (a.src = "https://flagsapi.com/ES/flat/32.png"),
      $(".nav-about-me a").text("Sobre m\xed"),
      $(".nav-works a").text("Trabajos"),
      $(".nav-contact a").text("Contacto"),
      $("#job").text("Desarrollador Back-End"),
      $(".about-me-title").text("Sobre m\xed"),
      $("#p1").html(
        "\xa1Hola! Mi nombre es Christian Franco, tengo 22 a\xf1os y soy <span>desarrollador back-end</span>."
      ),
      $("#p2").html(
        "Mis habilidades incluyen el manejo de lenguajes de programaci\xf3n como <span>C#</span> y <span>Java</span>, al igual que competencias en <span>base de datos</span> y conocimientos en desarrollo web. Actualmente cuento con m\xe1s de <span>un a\xf1o de experiencia</span> en desarrollo de software en .NET."
      ),
      $("#p3").html(
        "Fuera del trabajo, me gusta automatizar tareas mediante la programaci\xf3n, desarrollar mis propias aplicaciones m\xf3viles e incluso videojuegos. Ahora mismo me encuentro en <span>b\xfasqueda de nuevos proyectos</span>."
      ),
      $("#works h1").text("Proyectos personales"),
      $("#contact h1").text("Contacto"),
      $(".contact-message").text(
        "\xbfTienes alguna pregunta o comentario? \xa1No dudes en ponerte en contacto conmigo!"
      ),
      $(".form-name-label").text("Nombre"),
      $(".form-message-label").text("Mensaje"),
      $(".form-email-label").text("Email"),
      $("#input-submit").prop("value", "Enviar"),
      $(".mail-logo").text("Correo"));
}
form.addEventListener("submit", function e(a) {
  a.preventDefault(), form.reset();
  let o = document.getElementById("input-submit");
  (o.disabled = !0), (o.style.cursor = "not-allowed"), (o.style.opacity = 0.65);
});
var modal = document.getElementById("modal-panel"),
  span = document.getElementsByClassName("close")[0];
function fillModal(e) {
  let a = document.getElementById("change-lang-flag");
  var o = !1;
  switch ((a.src.includes("ES") && (o = !0), e)) {
    case "#work-1":
      $(".modal-title").text("LiftSplit"),
        o
          ? ($(".modal-text-1").html(
              "LiftSplit es una <span>aplicaci\xf3n m\xf3vil</span> para Android que permite a los usuarios realizar un seguimiento de las rutinas de entrenamiento. Cada usuario puede <span>crear una cuenta</span> y registrar ejercicios dentro de cada rutina. Adem\xe1s, se pueden contabilizar las <span>series, repeticiones y pesos</span> en los ejercicios. "
            ),
            $(".modal-text-2").html(
              "LiftSplit tambi\xe9n incluye <span>otras funcionalidades</span> como temporizador, gr\xe1ficas con los datos de los ejercicios, control de peso, etc. Esta aplicaci\xf3n fue desarrollada por m\xed en un plazo de 5 semanas."
            ),
            $(".modal-tech").text(
              "Hecho con: Android Studio, SQLite, Java, XML."
            ))
          : ($(".modal-text-1").html(
              "LiftSplit is a <span>mobile app</span> for Android that allows users to track workout routines. Each user can <span>create an account</span> and log exercises within each routine. In addition, <span>sets, reps and weights</span> can be counted for each exercise. "
            ),
            $(".modal-text-2").html(
              "LiftSplit also includes <span>other functionalities</span> such as timer, exercise data graphs, weight control, etc. This application was developed by me in a period of 5 weeks."
            ),
            $(".modal-tech").html(
              "Made with: Android Studio, SQLite, Java, XML."
            )),
        $("#modal-img").css("display", "inline"),
        $("#modal-video").css("display", "none"),
        $("#modal-obj").css("display", "none"),
        $(".modal-dots").css("display", "block");
      break;
    case "#work-2":
      $(".modal-title").text("Hungry and angry"),
        o
          ? ($(".modal-text-1").html(
              "Hungry and Angry es un <span>videojuego de plataformas en 3D</span>. El objetivo principal es <span>eliminar a las ratas</span> antes de que te golpeen e ir <span>recogiendo queso</span> para que el personaje no empiece a tener hambre y se enfade. "
            ),
            $(".modal-text-2").html(
              "Se puede recargar la munici\xf3n con los elementos que sueltan las ratas. Tambi\xe9n hay <span>potenciadores</span> y <span>ratas m\xe1s fuertes</span> de forma aleatoria. Este juego fue desarrollado por m\xed en un plazo de 3 semanas."
            ),
            $(".modal-tech").html("Hecho con: Unity, C#, Blender."))
          : ($(".modal-text-1").html(
              "Hungry and Angry is a <span>3D platform video game</span>. The main goal is to <span>kill the rats</span> before they hit you and <span>collect cheese</span> so that the character doesn't get hungry and angry. "
            ),
            $(".modal-text-2").html(
              "The ammo can be refilled with items dropped by the rats. There are also <span>power-ups</span> and randomly <span>stronger rats</span>. This game was developed by me within 3 weeks."
            ),
            $(".modal-tech").html("Made with: Unity, C#, Blender.")),
        $("#modal-img").css("display", "none"),
        $("#modal-video").css("display", "inline"),
        $("#modal-obj").css("display", "none"),
        $(".modal-dots").css("display", "none");
      break;
    case "#work-3":
      o
        ? ($(".modal-title").text("Modelo 3D taburete"),
          $(".modal-text-1").html(
            "Este peque\xf1o proyecto es un <span>ensamblaje 3D</span> de un taburete compuesto por 4 piezas. Para cada pieza se crea un <span>plano 2D param\xe9trico</span> con todas las medidas y despu\xe9s se modela la pieza en base al plano. Por \xfaltimo se <span>ensamblan todas las piezas</span> formando un \xfanico objeto. "
          ),
          $(".modal-text-2").html(
            "Este proyecto fue desarrollado por m\xed en menos de una semana."
          ),
          $(".modal-tech").html("Hecho con: Autodesk Fusion 360."))
        : ($(".modal-title").text("3D stool model"),
          $(".modal-text-1").html(
            "This small project is a <span>3D assembly</span> of a stool made up of 4 pieces. For each part a<span> parametric 2D drawing</span> is created with all the measurements and then the part is modelled based on the drawing. Finally, all the <span>pieces are assembled</span> to form a single object."
          ),
          $(".modal-text-2").html(
            "This project was developed by me in less than a week."
          ),
          $(".modal-tech").html("Made with: Autodesk Fusion 360.")),
        $("#modal-img").css("display", "none"),
        $("#modal-video").css("display", "none"),
        $("#modal-obj").css("display", "inline-block"),
        $(".modal-dots").css("display", "none");
  }
}
function changeLifSplitImage(e) {
  let a = document.getElementById("modal-img");
  "#modal-dot-1" == e
    ? ($(e).css("background-color", "#d4d571"),
      $("#modal-dot-2").css("background-color", "white"),
      $("#modal-dot-3").css("background-color", "white"),
      $("#modal-dot-4").css("background-color", "white"),
      (a.src = "/images/works/login.png"))
    : "#modal-dot-2" == e
    ? ($(e).css("background-color", "#d4d571"),
      $("#modal-dot-1").css("background-color", "white"),
      $("#modal-dot-3").css("background-color", "white"),
      $("#modal-dot-4").css("background-color", "white"),
      (a.src = "/images/works/home.png"))
    : "#modal-dot-3" == e
    ? ($(e).css("background-color", "#d4d571"),
      $("#modal-dot-1").css("background-color", "white"),
      $("#modal-dot-2").css("background-color", "white"),
      $("#modal-dot-4").css("background-color", "white"),
      (a.src = "/images/works/workout.png"))
    : "#modal-dot-4" == e &&
      ($(e).css("background-color", "#d4d571"),
      $("#modal-dot-1").css("background-color", "white"),
      $("#modal-dot-2").css("background-color", "white"),
      $("#modal-dot-3").css("background-color", "white"),
      (a.src = "/images/works/profile.png"));
}
$("#work-1, #work-2, #work-3").click(function () {
  (modal.style.display = "block"),
    (document.body.style.overflow = "hidden"),
    (document.body.style.height = "100%");
}),
  (span.onclick = function () {
    (modal.style.display = "none"),
      (document.body.style.overflow = "auto"),
      (document.body.style.height = "auto");
  }),
  (window.onclick = function (e) {
    e.target == modal &&
      ((modal.style.display = "none"),
      (document.body.style.overflow = "auto"),
      (document.body.style.height = "auto"));
  });
